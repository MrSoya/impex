<!DOCTYPE html>
<html >
    <head>
        <title>Impex Demo</title>
        <meta http-equiv="content-type" content="text/html;charset=utf-8">
    </head>
    <body>
        <div id="demo">
            next tick
            <div ref="name">
                {{name}}
            </div>
            <button @click="change()">change name</button>
        </div>
        <script type="text/javascript" src="../lib/impex/impex.dev.all.js"></script>
        <script type="text/javascript">
            
            //渲染
            impex.create({
                el:'#demo',
                state:{
                    name:'soya2d'
                },
                change:function(argument) {
                    this.name = 'impex';

                    console.log('out nextTick',this.$ref.name.outerHTML);
                    var that = this;
                    setTimeout(function() {
                        console.log('out nextTick,in setTimeout',that.$ref.name.outerHTML);
                    },10);
                    this.$nextTick(function() {
                        console.log('in nextTick',this.$ref.name.outerHTML);
                    })
                }
            });
        </script>
    </body>
</html>